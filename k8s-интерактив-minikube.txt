Простая инструкция по работе с k8s-кластером

Базовые команды по работе с k8s-кластером, используя утилиту kubectl:
--
kubectl cluster-info **инфо о кластере
kubectl get nodes **получить все доступные ноды в кластере
kubectl get pods **получить все поды (один или несколько докер-контейнеров в default-неймспейсе (если ваш неймспейс отличен от дефолтного, то указывайте его через параметр -n mynamespace))
kubectl run **запуск пода на основе докер-образа (архаичный вариант запуска, обычно используются специально подготовленные манифесты в формате yaml)
kubectl expose pod **создание службы для межподового/межконтейнерного взаимодействия (архаичный вариант, обычно используются специально подготовленные манифесты в формате yaml)

Запуск подов на основе докер-образов mariadb и adminer:
--
kubectl run mariadb --image=mariadb --port 3306 --env MARIADB_ROOT_PASSWORD=superpass **запуск пода на основе докер-образа mariadb
kubectl run adminer --image=adminer **запуск пода на основе докер-образа adminer (adminer для БД)
kubectl get pods **получение списка развернутых подов

kubectl expose pod mariadb **создание службы для mariadb для межподового/межконтейнерного взаимодействия (архаичный вариант, обычно используются специально подготовленные манифесты в формате yaml)
kubectl expose pod adminer --port 8080 --type=NodePort **создание службы adminer для межподового/межконтейнерного взаимодействия (архаичный вариант, обычно используются специально подготовленные манифесты в формате yaml). в данном команде используется тип службы NodePort (прокидывание порта с ноды, где развернут под и служба)
kubectl get svc **получение списка развернутых служб

Доступ к GUI приложения adminer и коннекта к инстансу mariadb:
--
Теперь можно зайти из браузера по адресу службы adminer с указанием порта (вам нужен тот порт, который сопоставлен с хоста к дефольному порту 8080, например "32109" - он может отличаться) ввести следующие учетные данные:

Движок: MySQL
Сервер: mariadb **наименование пода, в котором запущен mariadb
Имя пользователя: root
Пароль: superpass **пароль, который мы передали в переменную окружения MARIADB_ROOT_PASSWORD при запуске пода с mariadb
База данных: оставить поле пустым

Удаление ресурсов:
--
kubectl delete pod mariadb **удаление пода mariadb
kubectl delete pod adminer **удаление пода adminer
kubectl delete svc mariadb **удаление службы mariadb
kubectl delete svc adminer **удаление службы adminer
